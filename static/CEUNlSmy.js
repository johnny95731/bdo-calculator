import{R as ne,V as N,E as m}from"./TiEIOpVK.js";import{k as de,d as j,w as re,J as ie,K as ue,o as be}from"./BORQtvDy.js";import{w as ce,p as xe,m as me,r as fe,h as ve}from"./Bo9Y2Pl6.js";import{R as W,$ as Q,U as $,r as M,i as B,a2 as I,z as o,F as U,Q as S,ax as ge,a0 as K,W as p,a8 as pe,ag as ye,b2 as we,d as Ve,b9 as Ce,t as F,D as ke,A as a,x as l,B as y,y as H,v as Se,C as Te,M as O,aS as L}from"./DXqIG5h6.js";import{m as he,V as X,b as Pe,a as Y}from"./D1ogLJnA.js";import{m as Be,V as q}from"./B-2XHWvZ.js";import{V as We}from"./TXdUHm-A.js";import"./C6wayqaZ.js";const z=Symbol.for("vuetify:v-tabs"),$e=W({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Q(de({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Z=$()({name:"VTab",props:$e(),setup(t,u){let{slots:b,attrs:s}=u;const{textColorClasses:n,textColorStyles:f}=ce(t,"sliderColor"),e=M(),d=M(),c=B(()=>t.direction==="horizontal"),T=B(()=>{var v,r;return((r=(v=e.value)==null?void 0:v.group)==null?void 0:r.isSelected.value)??!1});function E(v){var i,g;let{value:r}=v;if(r){const x=(g=(i=e.value)==null?void 0:i.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),D=d.value;if(!x||!D)return;const ee=getComputedStyle(x).color,w=x.getBoundingClientRect(),V=D.getBoundingClientRect(),h=c.value?"x":"y",P=c.value?"X":"Y",A=c.value?"right":"bottom",C=c.value?"width":"height",te=w[h],le=V[h],k=te>le?w[A]-V[A]:w[h]-V[h],se=Math.sign(k)>0?c.value?"right":"bottom":Math.sign(k)<0?c.value?"left":"top":"center",ae=(Math.abs(k)+(Math.sign(k)<0?w[C]:V[C]))/Math.max(w[C],V[C])||0,oe=w[C]/V[C]||0,G=1.5;ie(D,{backgroundColor:[ee,"currentcolor"],transform:[`translate${P}(${k}px) scale${P}(${oe})`,`translate${P}(${k/G}px) scale${P}(${(ae-1)/G+1})`,"none"],transformOrigin:Array(3).fill(se)},{duration:225,easing:ue})}}return I(()=>{const v=j.filterProps(t);return o(j,S({symbol:z,ref:e,class:["v-tab",t.class],style:t.style,tabindex:T.value?0:-1,role:"tab","aria-selected":String(T.value),active:!1},v,s,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":E}),{...b,default:()=>{var r;return o(U,null,[((r=b.default)==null?void 0:r.call(b))??t.text,!t.hideSlider&&o("div",{ref:d,class:["v-tab__slider",n.value],style:f.value},null)])}})}),re({},e)}}),Ie=W({...Q(he(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),_=$()({name:"VTabsWindow",props:Ie(),emits:{"update:modelValue":t=>!0},setup(t,u){let{slots:b}=u;const s=ge(z,null),n=K(t,"modelValue"),f=B({get(){var e;return n.value!=null||!s?n.value:(e=s.items.value.find(d=>s.selected.value.includes(d.id)))==null?void 0:e.value},set(e){n.value=e}});return I(()=>{const e=X.filterProps(t);return o(X,S({_as:"VTabsWindow"},e,{modelValue:f.value,"onUpdate:modelValue":d=>f.value=d,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),b)}),{}}}),Ee=W({...Pe()},"VTabsWindowItem"),R=$()({name:"VTabsWindowItem",props:Ee(),setup(t,u){let{slots:b}=u;return I(()=>{const s=Y.filterProps(t);return o(Y,S({_as:"VTabsWindowItem"},s,{class:["v-tabs-window-item",t.class],style:t.style}),b)}),{}}});function De(t){return t?t.map(u=>we(u)?u:{text:u,value:u}):[]}const Me=W({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Be({mandatory:"force",selectedClass:"v-tab-item--selected"}),...xe(),...me()},"VTabs"),Re=$()({name:"VTabs",props:Me(),emits:{"update:modelValue":t=>!0},setup(t,u){let{attrs:b,slots:s}=u;const n=K(t,"modelValue"),f=B(()=>De(t.items)),{densityClasses:e}=fe(t),{backgroundColorClasses:d,backgroundColorStyles:c}=ve(p(t,"bgColor")),{scopeId:T}=be();return pe({VTab:{color:p(t,"color"),direction:p(t,"direction"),stacked:p(t,"stacked"),fixed:p(t,"fixedTabs"),sliderColor:p(t,"sliderColor"),hideSlider:p(t,"hideSlider")}}),I(()=>{const E=q.filterProps(t),v=!!(s.window||t.items.length>0);return o(U,null,[o(q,S(E,{modelValue:n.value,"onUpdate:modelValue":r=>n.value=r,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},e.value,d.value,t.class],style:[{"--v-tabs-height":ye(t.height)},c.value,t.style],role:"tablist",symbol:z},T,b),{default:()=>{var r;return[((r=s.default)==null?void 0:r.call(s))??f.value.map(i=>{var g;return((g=s.tab)==null?void 0:g.call(s,{item:i}))??o(Z,S(i,{key:i.text,value:i.value}),{default:s[`tab.${i.value}`]?()=>{var x;return(x=s[`tab.${i.value}`])==null?void 0:x.call(s,{item:i})}:void 0})})]}}),v&&o(_,S({modelValue:n.value,"onUpdate:modelValue":r=>n.value=r,key:"tabs-window"},T),{default:()=>{var r;return[f.value.map(i=>{var g;return((g=s.item)==null?void 0:g.call(s,{item:i}))??o(R,{value:i.value},{default:()=>{var x;return(x=s[`item.${i.value}`])==null?void 0:x.call(s,{item:i})}})}),(r=s.window)==null?void 0:r.call(s)]}})])}),{}}}),Ue={class:"column-flow h-100 w-100 bg-content rounded-t-xl rounded-b-lg"},J="額外資訊",ze=Ve({__name:"ExtraDescriptions",props:{modelValue:{type:Boolean,default:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t,{expose:u}){u({title:J});const b=Ce(t,"modelValue"),s=[["processing","加工"],["alchemy","煉金"]],n=M("processing");return(f,e)=>(F(),ke(We,{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=d=>b.value=d),width:"450px","max-width":"100vw",height:"600px","max-height":"100vh",eager:""},{default:a(()=>[l("div",Ue,[o(ne,{tag:"h2",color:"title"},{default:a(()=>[y(H(J))]),_:1}),o(Re,{modelValue:O(n),"onUpdate:modelValue":e[0]||(e[0]=d=>L(n)?n.value=d:null),class:"flex-0-0","bg-color":"subtitle",density:"compact"},{default:a(()=>[(F(),Se(U,null,Te(s,([d,c])=>o(Z,{key:d,class:"font-weight-bold","base-color":"black",color:"white",value:d},{default:a(()=>[y(H(c),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),o(_,{modelValue:O(n),"onUpdate:modelValue":e[1]||(e[1]=d=>L(n)?n.value=d:null),class:"overflow-y-auto"},{default:a(()=>[o(R,{value:s[0][0]},{default:a(()=>[o(N,{class:"column-flow bg-content ga-3 px-2 py-3"},{default:a(()=>[o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[3]||(e[3]=[l("h3",{class:"text-body-1 font-weight-bold"}," 平均成品數量 ",-1)])),text:a(()=>e[4]||(e[4]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 成品數量為一個範圍內的隨機值，通常為1~4個。加工等級達到匠人1之後，每個數量的機率相等。而等級較低時，最大數量的機率較低。 "),l("p",{class:"mt-2"}," 每個數量的機率相等時，平均值為(最大值+最小值)/2。 ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[5]||(e[5]=[l("h3",{class:"text-body-1 font-weight-bold"}," 加工成功率 ",-1)])),text:a(()=>e[6]||(e[6]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 基礎成功率為70%，可透過食物、靈藥、煉金石/精靈石及文物與光明石增加成功率。實際成功率為70%*(1+額外成功率)。額外成功率43%時達到實際成功率100% ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[7]||(e[7]=[l("h3",{class:"text-body-1 font-weight-bold"}," 大量加工時間 ",-1)])),text:a(()=>e[8]||(e[8]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 加工時間介於6秒~9秒，只與加工配方有關，例如木頭類6秒、羽毛類8秒、多數原礦石9秒、鋅礦石及熔化的金屬碎片6秒等。 "),l("p",null," 而加工秒數乘以10倍即為大量加工所需時間，可透過測量加工時間得出或取中間值75秒。 ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[9]||(e[9]=[l("h3",{class:"text-body-1 font-weight-bold"}," 成本 ",-1)])),text:a(()=>e[10]||(e[10]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 一階加工及二階加工產物由原料價格及消耗量計算成本。 ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[11]||(e[11]=[l("h3",{class:"text-body-1 font-weight-bold"}," 原料 ",-1)])),text:a(()=>e[12]||(e[12]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 一階加工的材料由基本材料欄位選取。二階加工的材料由基本材料及一階加工欄位選取。 ")],-1)])),_:1})]),_:1})]),_:1},8,["value"]),o(R,{value:s[1][0]},{default:a(()=>[o(N,{class:"flex-1-1-100 column-flow bg-content ga-3 px-2 py-3"},{default:a(()=>[o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[13]||(e[13]=[l("h3",{class:"text-body-1 font-weight-bold"}," 平均產量 ",-1)])),text:a(()=>e[14]||(e[14]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 成品數量為一個範圍內的隨機值，通常為1~4個，基本機率為每個數量相等，例如範圍1~4個基本機率即為100%/4=25%，而實際機率受到煉金熟練度加成影響。 "),l("p",{class:"mt-2"},[y(" 煉金熟練度增加一般產物的最大產量機率，剩餘的機率由剩下的範圍均分。例如：產量範圍為1~4，最大數量機率增加9%，則產出4個的機率為(25+9)%=34%，剩下66%由1~3個均分為22%，平均值2.68個。公式可寫為 "),l("code",{class:"d-inline-block w-100 text-center"}," 基本平均產量+額外機率*(最大值-基本平均產量+0.5) "),y(" 其中"),l("code",null,"基本平均產量=(最大值+最小值)/2"),y("為未受熟練度加成的平均產量 ")]),l("p",{class:"mt-2"}," 煉金稀有產物多為1~2個，不受熟練度影響，詳見「稀有產物(藍色祕藥)產量」。 ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[15]||(e[15]=[l("h4",{class:"text-body-1 font-weight-bold"}," 稀有產物(藍色祕藥)比例 ",-1)])),text:a(()=>e[16]||(e[16]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 根據國外論壇討論，煉金稀有產物產量平均為製作次數的30%。 "),l("p",null," 因料理熟練度的說明包括「增加效果更好的料理獲得機率」，而煉金熟練度則沒有說明，推測熟練度不影響煉金稀有產物機率與數量。 "),l("p",{class:"mt-2"}," 煉金達到可獲得稀有產物的等級時，產量為製作次數的15%，再提高10級後達到30%。例如：「生命力的秘藥」於熟練1可獲得「強大生命力的秘藥」，此時可獲得製作次數的15%，而再專家1之後平均值即達到30%。 ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[17]||(e[17]=[l("h3",{class:"text-body-1 font-weight-bold"}," 稀有產物比例(延伸) ",-1)])),text:a(()=>e[18]||(e[18]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null," 因煉金稀有產物數量介於1~2個，且不受熟練度影響觸發機率與產量機率。推測觸發製作稀有產物機率為20%，且1個與2個均為50%，平均值即為製作次數的30%。 "),l("p",null," 料理可參考此基本值，以計算一般產物與稀有產物經過熟練度加成後的產量。 ")],-1)])),_:1}),o(m,{btnClass:"px-3 py-2",textClass:"bg-surface rounded-b-xl",baseColor:"surface",rounded:"xl"},{title:a(()=>e[19]||(e[19]=[l("h3",{class:"text-body-1 font-weight-bold"}," 原料需求估計 ",-1)])),text:a(()=>e[20]||(e[20]=[l("div",{class:"mb-2 px-3 text-body-2"},[l("p",null,[y(" 一般產物與稀有產物階設定時，會計算所需製作次數較高的作為基準。而勾選「全製作為稀有產物」時僅考慮稀有產物需求量，並且會將一般產物量轉為稀有產物(註)，以此估計所需的製作次數。"),l("br"),l("span",{class:"text-caption"}," 註：透過簡易臉金可將三瓶綠色靈藥與藍色液體試藥合成為藍色靈藥。 ")]),l("p",{class:"mt-2"},[y(" 勾選「全製作為稀有產物」時，所需的製作次數為"),l("br"),l("code",{class:"d-inline-block w-100 text-center"}," 需求量 / (一般產物平均產量/3 + 0.3) ")])],-1)])),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]))}}),Ye=Object.assign(ze,{__name:"ExtraDescriptions"});export{Ye as default};
