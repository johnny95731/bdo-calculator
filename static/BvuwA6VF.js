import{d as H,H as N,b9 as j,i as F,t as B,v as L,z as l,A as a,Q as r,M as t,x as s,D as O,b0 as Y,K as x,B as u,y as b,E as K,bs as g,bt as y,L as m,F as Q}from"./DXqIG5h6.js";import{c as q}from"./VC4Ps_hC.js";import{R as G,V as J,E as V}from"./TiEIOpVK.js";import f from"./LWoSWI-m.js";import{u as W,c as C,r as d,n as p,I as X}from"./BORQtvDy.js";import{V as Z,g as _}from"./Bo9Y2Pl6.js";import{b as T,c as ee,V as c,a as te}from"./BYk5bUkz.js";import{V as le}from"./BaAJO5sB.js";import{V as ae}from"./TXdUHm-A.js";import"./Cvs29Zxg.js";import"./C6wayqaZ.js";import"./B-2XHWvZ.js";const oe={class:"text-center"},se={class:"column-flow h-100 w-100"},ne={class:"d-flex align-center w-100"},ie={class:"d-flex align-center w-100"},re={class:"d-flex align-center w-100"},M="角色設定",de=H({__name:"CharacterSetting",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(D,{expose:U}){const[P,w]=q();U({title:M});const i={panel:{btnClass:"px-3 py-1",textClass:"column-flow ga-3 bg-surface px-5 pb-4 rounded-b-xl",rounded:"xl",expand:!0},info:{tag:"h4",class:"mb-2 text-center",titleSize:"body-2",noSpace:!0},textField:{type:"number",inputmode:"decimal",density:"compact"}},o=W(),{crafts:$,extraSuccessRate:z,profitMargin:R,valuePack:I,bonusValue:k}=N(o),h=j(D,"modelValue"),v=F(()=>({mid:d(o.avgCraft*48,0),min:d(o.avgCraft*40,0),max:d(o.avgCraft*60,0)})),S=F(()=>X([1,4],o.alchemy.extractMaxRate));return(A,e)=>(B(),L(Q,null,[l(t(P),null,{default:a(()=>[l(T,{location:"top",eager:!1},{activator:a(({props:n})=>[l(Z,r(n,{class:"ml-1",icon:t(_)("info"),size:"x-small"}),null,16,["icon"])]),default:a(()=>[s("div",oe,[(B(),O(Y(A.$slots.default)))])]),_:1})]),_:1}),l(ae,{modelValue:h.value,"onUpdate:modelValue":e[13]||(e[13]=n=>h.value=n),width:"450px","max-width":"100vw",height:"600px","max-height":"100vh"},{default:a(()=>[s("div",se,[e[0]||(x(-1,!0),(e[0]=l(G,{tag:"h2",color:"title"},{default:a(()=>[u(b(M))]),_:1})).cacheIndex=0,x(1),e[0]),l(J,{class:K(["flex-1-1-100 column-flow","bg-content","ga-3 px-2 py-3 rounded-b-lg","overflow-auto"])},{default:a(()=>[l(V,g(y(i.panel)),{title:a(()=>[s("div",ne,[e[14]||(e[14]=s("h3",{class:"flex-0-0 mx-1 text-body-1 font-weight-bold"}," 交易所 ",-1)),l(C,{opacity:"1",color:"black"})])]),default:a(()=>[s("div",null,[m([t(R)],()=>l(f,r(i.info,{title:"實際領取",value:`${t(d)(100*t(R),3)}%`}),null,16,["value"]),e,1),l(ee,{class:"mt-0 ms-n1 text-body-2",density:"compact","model-value":t(I),"onUpdate:modelValue":e[3]||(e[3]=n=>t(o).updateCharacter("valuePack",n))},{label:a(()=>[e[2]||(x(-1,!0),(e[2]=s("label",{class:"text-body-2 font-weight-bold"},[e[15]||(e[15]=u("價值禮包"))])).cacheIndex=2,x(1),e[2])]),_:1},8,["model-value"]),l(T,{text:"巨商之戒及家門名聲等",location:"top",eager:!1},{activator:a(({props:n})=>[m([t(k)],()=>l(le,r({label:"其他額外領取額(%)"},Object.assign({},n,i.textField),{class:"mt-2",step:"0.1",min:"0",items:[0,.5,1,1.5,5,5.5,6,6.5],"model-value":t(k),"onUpdate:modelValue":e[4]||(e[4]=E=>t(o).updateCharacter("bonusValue",E))}),null,16,["model-value"]),e,5)]),_:1})])]),_:1},16),l(V,g(y(i.panel)),{title:a(()=>[s("div",ie,[e[16]||(e[16]=s("h3",{class:"flex-0-0 mx-1 text-body-1 font-weight-bold"}," 加工 ",-1)),l(C,{opacity:"1",color:"black"})])]),default:a(()=>[s("div",null,[l(f,r(i.info,{title:"每小時加工",value:`約 ${t(p)(v.value.mid)}份`}),{append:a(()=>[l(t(w),null,{default:a(()=>[s("div",null,[e[17]||(e[17]=u(" 以75秒估計，實際由被加工物決定。")),e[18]||(e[18]=s("br",null,null,-1)),u(" 介於"+b(t(p)(v.value.min))+"份(90秒)至"+b(t(p)(v.value.max))+"份(60秒)。 ",1)])]),_:1})]),_:1},16,["value"]),l(c,r({label:"單次大量加工份數"},i.textField,{min:"1","model-value":t($),"onUpdate:modelValue":e[6]||(e[6]=n=>t(o).updateCharacter("crafts",n))}),null,16,["model-value"])]),s("div",null,[m([t(o).successRate],()=>l(te,{class:"mb-2 text-body-2 opacity-80",text:`加工成功率 ${t(d)(100*t(o).successRate)}%`},null,8,["text"]),e,7),l(c,r({label:"額外加工成功率(%)"},i.textField,{step:"any",min:"0",max:"100","model-value":t(z),"onUpdate:modelValue":e[8]||(e[8]=n=>t(o).updateCharacter("extraSuccessRate",n))}),null,16,["model-value"])])]),_:1},16),l(V,g(y(i.panel)),{title:a(()=>[s("div",re,[e[19]||(e[19]=s("h3",{class:"flex-0-0 mx-1 text-body-1 font-weight-bold"}," 煉金 ",-1)),l(C,{opacity:"1",color:"black"})])]),default:a(()=>[s("div",null,[m([t(o).alchemyHourlyCrafts],()=>l(f,r(i.info,{title:"每小時製作",value:`約 ${t(p)(t(d)(t(o).alchemyHourlyCrafts,0))}次`}),null,16,["value"]),e,9),l(c,r({label:"製作時間(秒)"},i.textField,{min:"1",max:"20",step:"any","model-value":t(o).alchemy.time,"onUpdate:modelValue":e[10]||(e[10]=n=>t(o).updateCharacter("alchemy.time",n))}),null,16,["model-value"])]),s("div",null,[m([S.value],()=>l(f,r(i.info,{title:"平均產出",value:` ${t(p)(t(d)(S.value))} 個/次`}),{append:a(()=>[l(t(w),null,{default:a(()=>e[20]||(e[20]=[u(" 以產量範圍1~4估計。 ")])),_:1})]),_:1},16,["value"]),e,11),l(c,r(i.textField,{label:"最大數量製作額外機率(%)",min:"0",step:"any","model-value":t(o).alchemy.extractMaxRate,"onUpdate:modelValue":e[12]||(e[12]=n=>t(o).updateCharacter("alchemy.extractMaxRate",n))}),null,16,["model-value"])])]),_:1},16)]),_:1})])]),_:1},8,["modelValue"])],64))}}),we=Object.assign(de,{__name:"CharacterSetting"});export{we as default};
