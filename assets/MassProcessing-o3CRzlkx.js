const __vite__fileDeps=["./TheDialog-CzgpP-Bg.js","./TheDialog.vue_vue_type_script_setup_true_lang-Di-3ecDA.js","./VDialog-6Fd2q5zs.js","./index-CyQvApnK.js","./index-CJRCcq6m.css","./VDialog-CSuU2VW-.css","./MPFavs-D3m0e-kV.js","./ExpansionPanel-BW-gqJtl.js","./ExpansionPanel-BqEw9TtZ.css","./VDataTable-dodxSJ7s.js","./filter-BvXrCLne.js","./VTooltip-BOZ_ktLx.js","./VTooltip-03dTmztU.css","./filter-DkZWLzKc.css","./VDataTable-DQZk-Jjh.css","./MPFavs-j2IepU_8.css","./MPResult-DRtqk8nC.js","./DataTable-PPssR5ae.js","./DataTable-CJ7D-dFE.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as ae,B as se,o as x,c as U,w as d,b as l,k as c,f as Ue,h as T,C as L,D as J,j as G,a as ne,e as F,t as A,F as H,E as X,G as re,A as Ge,H as Ne,m as He,I as W,n as z,v as B,l as Le,p as Xe,r as de,J as ue,K as ie,L as Ye,M as be,N as Ve,O as Z,P as xe,Q as we,R as Ce,S as ke,T as Te,U as Me,W as Ae,X as oe,Y as Fe,Z as Y,_ as Ie,$ as Re,a0 as We,a1 as Oe,a2 as je,a3 as De,a4 as ze,a5 as qe,a6 as Je,a7 as ce,a8 as Ke,a9 as Qe,aa as me,ab as Ze,z as et,ac as tt,ad as lt,ae as nt,V as ot,af as at,ag as ve,ah as st,ai as ee,aj as te}from"./index-CyQvApnK.js";import{_ as K}from"./DataBlock.vue_vue_type_script_setup_true_lang-BTPIrZ5j.js";import{V as M,E as ut,_ as j}from"./ExpansionPanel-BW-gqJtl.js";import{_ as q,V as it,u as rt,a as fe,b as pe,c as D}from"./VLazy-_ZqY908O.js";import{_ as Se}from"./ItemName.vue_vue_type_script_setup_true_lang-Dq96sHaG.js";import{b as $,V as Q}from"./VTooltip-BOZ_ktLx.js";import{V as ge,a as dt}from"./filter-BvXrCLne.js";import"./VCombobox-B3WovIIB.js";const ct=ae({__name:"TheRaw",props:{idx:{},raw:{}},setup(e){const a=se();return(n,t)=>(x(),U(M,{class:"d-flex align-center my-3 ps-5 pe-3 pt-5 pb-4 ga-2",rounded:"xl"},{default:d(()=>[l(Se,{class:"name-input",density:"compact","model-value":n.raw.name,onChange:t[0]||(t[0]=u=>c(a).updateName(0,n.idx,u||""))},null,8,["model-value"]),l($,{label:"數量",density:"compact",type:"number",inputmode:"decimal",min:"0","model-value":n.raw.num,"onUpdate:modelValue":t[1]||(t[1]=u=>c(a).updateRaw("num",n.idx,u))},null,8,["model-value"]),l($,{label:"售出價",density:"compact",type:"number",inputmode:"decimal",min:"0","model-value":n.raw.price,"onUpdate:modelValue":t[2]||(t[2]=u=>c(a).updateRaw("price",n.idx,u))},{default:d(()=>[l(Q,{activator:"parent",location:"top"},{default:d(()=>[l(K,{title:"實際領取",value:n.raw.unitProfit},null,8,["value"])]),_:1})]),_:1},8,["model-value"]),l($,{label:"成本",density:"compact",type:"number",inputmode:"decimal",min:"0","model-value":n.raw.cost,"onUpdate:modelValue":t[3]||(t[3]=u=>c(a).updateRaw("cost",n.idx,u))},null,8,["model-value"]),l(q,{type:"close",onClick:t[4]||(t[4]=u=>c(a).removeGoods(0,n.idx))})]),_:1}))}}),mt={style:{width:"3.1em","text-align-last":"justify"}},vt={key:1,class:"text-caption"},ye=ae({__name:"TheProduct",props:{idx:{},product:{},lowTierNames:{},selectedRaws:{},tier:{},hourlyInfo:{}},setup(e){const[a,n]=Ue(),t=e,u=se(),m=T(()=>{const{num:p,unitProfit:g,cost:f,timeCost:w}=t.product,v=[{title:"利潤",value:de(p*(g-f))},{title:"成本",value:de(f),unit:"/個"},{title:"產量",value:p},{title:"",value:w,unit:"分鐘"}],P=[...t.tier===2?[{title:"產值(從原料)",value:t.hourlyInfo.profitFromRaw-t.hourlyInfo.costFromRaw},{title:"產量(從原料)",value:t.hourlyInfo.yieldFromRaw}]:[],{title:"產值",value:t.hourlyInfo.profit},{title:"產量",value:t.hourlyInfo.yield},{title:"加工",value:t.hourlyInfo.crafts,unit:"份"}];return[v,P]}),r=T(()=>t.product.raw.map(p=>p.name)),V=L([]),i=L([]),h=()=>{i.value=[],V.value=t.lowTierNames.filter(p=>{const g=r.value.includes(p);return!t.selectedRaws.includes(p)||g?(i.value.push(g),!0):!1})};return h(),J(()=>[r.value,t.selectedRaws,t.lowTierNames],()=>{h()},{deep:!0}),(p,g)=>(x(),G(H,null,[l(c(a),null,{default:d(({label:f,tooltip:w,chips:v})=>[l(M,{class:"d-flex align-center px-2 py-1 ga-2 text-caption"},{default:d(()=>[ne("span",mt,[F(A(f)+" ",1),l(Q,{activator:"parent",text:w},null,8,["text"])]),(x(!0),G(H,null,X(v,({title:P,value:R,unit:_},E,I,y)=>{const C=[R];if(y&&y.key===P&&re(y,C))return y;const k=(x(),U(ge,{key:P,size:"small",variant:"outlined",density:"compact"},{default:d(()=>[F(A(`${P} ${typeof R=="number"?c(Ge)(R):R}${_||""}`),1)]),_:2},1024));return k.memo=C,k},g,0),128))]),_:2},1024)]),_:1}),l(M,{class:"my-3 ps-3 pe-1 pt-4 pb-4 ga-2",rounded:"xl"},{default:d(()=>[l(c(n),{label:"產出",tooltip:"從原料數量估計",chips:m.value[0]},null,8,["chips"]),l(c(n),{label:"每小時",tooltip:"從平均產出及大量加工時間估計。",chips:m.value[1]},null,8,["chips"]),l(M,{class:"d-flex align-end px-2 py-1 ga-3"},{default:d(()=>[l(Se,{class:"name-input",density:"compact","model-value":p.product.name,onChange:g[2]||(g[2]=f=>c(u).updateName(p.tier,t.idx,f||""))},null,8,["model-value"]),l(dt,{class:"flex-1-1","bg-color":"surface",multiple:"",rounded:"lg",density:"compact",label:"原料",items:V.value,"model-value":r.value},{item:d(({index:f,item:w,props:v})=>[l(Ne,He(v,{title:"",variant:"flat"}),{default:d(()=>[l(it,{label:v.title,density:"compact",modelValue:i.value[f],"onUpdate:modelValue":P=>c(u).updateRawOfProduct(t.tier,t.idx,!i.value[f],w.value)},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1040)]),selection:d(({item:f,index:w})=>[w<1?(x(),U(ge,{key:0,density:"compact",size:"small"},{default:d(()=>[F(A(f.title),1)]),_:2},1024)):W("",!0),w===1?(x(),G("span",vt," (+"+A(t.product.raw.length-1)+" others) ",1)):W("",!0)]),_:1},8,["items","model-value"]),l($,{label:"平均成品數量",class:"product-input",type:"number",inputmode:"decimal",step:"0.1",min:"0",density:"compact","model-value":p.product.avgyield,"onUpdate:modelValue":g[3]||(g[3]=f=>c(u).updateProduct("avgyield",t.tier,t.idx,f))},null,8,["model-value"]),l($,{label:"售出價",class:z("product-input"),type:"number",inputmode:"decimal",min:"0",density:"compact","model-value":p.product.price,"onUpdate:modelValue":g[4]||(g[4]=f=>c(u).updateProduct("price",t.tier,t.idx,f))},{default:d(()=>[l(Q,{activator:"parent",location:"top"},{default:d(()=>[l(K,{title:"實際領取",value:p.product.unitProfit},null,8,["value"])]),_:1})]),_:1},8,["model-value"]),l($,{label:"大量加工時間",class:"product-input",type:"number",inputmode:"decimal",min:"60",max:"90",density:"compact","model-value":p.product.mpTime,"onUpdate:modelValue":g[5]||(g[5]=f=>c(u).updateProduct("mpTime",t.tier,t.idx,f))},null,8,["model-value"]),g[6]||(B(-1),g[6]=l(Le,{class:"align-self-center",icon:c(Xe)("close"),onClick:f=>c(u).removeGoods(t.tier,p.idx)},null,8,["icon","onClick"]),B(1),g[6])]),_:1}),l(ut,{class:"mt-2",btnClass:"px-2 py-1 text-caption font-weight-bold","text-class":"ps-4 text-left",baseColor:"transparent",rounded:"lg",title:`原料消耗量(預設為${p.tier===1?"5":"10"})`,"aria-label":"原料消耗量"},{default:d(()=>[(x(!0),G(H,null,X(p.product.raw,({name:f,consumption:w},v,P,R)=>{const _=[w];if(R&&R.key===v&&re(R,_))return R;const E=(x(),U($,{key:v,class:"d-inline-block mr-3 consumption",label:f,type:"number",inputmode:"decimal",min:"1",density:"compact","model-value":w,"onUpdate:modelValue":I=>c(u).updateProduct("consumption",t.tier,t.idx,[v,I])},null,8,["label","model-value","onUpdate:modelValue"]));return E.memo=_,E},g,7),128))]),_:1},8,["title"])]),_:1})],64))}}),$e=Symbol.for("vuetify:v-item-group"),ft=ue({...ie(),...Ye({selectedClass:"v-item--selected"}),...be(),...Ve()},"VItemGroup"),pt=Z()({name:"VItemGroup",props:ft(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const{themeClasses:t}=xe(e),{isSelected:u,select:m,next:r,prev:V,selected:i}=we(e,$e);return()=>l(e.tag,{class:["v-item-group",t.value,e.class],style:e.style},{default:()=>{var h;return[(h=n.default)==null?void 0:h.call(n,{isSelected:u,select:m,next:r,prev:V,selected:i.value})]}})}}),gt=Z()({name:"VItem",props:Ce(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:n}=a;const{isSelected:t,select:u,toggle:m,selectedClass:r,value:V,disabled:i}=ke(e,$e);return()=>{var h;return(h=n.default)==null?void 0:h.call(n,{isSelected:t.value,selectedClass:r.value,select:u,toggle:m,value:V.value,disabled:i.value})}}}),yt=e=>{const{touchstartX:a,touchendX:n,touchstartY:t,touchendY:u}=e,m=.5,r=16;e.offsetX=n-a,e.offsetY=u-t,Math.abs(e.offsetY)<m*Math.abs(e.offsetX)&&(e.left&&n<a-r&&e.left(e),e.right&&n>a+r&&e.right(e)),Math.abs(e.offsetX)<m*Math.abs(e.offsetY)&&(e.up&&u<t-r&&e.up(e),e.down&&u>t+r&&e.down(e))};function ht(e,a){var t;const n=e.changedTouches[0];a.touchstartX=n.clientX,a.touchstartY=n.clientY,(t=a.start)==null||t.call(a,{originalEvent:e,...a})}function bt(e,a){var t;const n=e.changedTouches[0];a.touchendX=n.clientX,a.touchendY=n.clientY,(t=a.end)==null||t.call(a,{originalEvent:e,...a}),yt(a)}function Vt(e,a){var t;const n=e.changedTouches[0];a.touchmoveX=n.clientX,a.touchmoveY=n.clientY,(t=a.move)==null||t.call(a,{originalEvent:e,...a})}function xt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>ht(n,a),touchend:n=>bt(n,a),touchmove:n=>Vt(n,a)}}function wt(e,a){var V;const n=a.value,t=n!=null&&n.parent?e.parentElement:e,u=(n==null?void 0:n.options)??{passive:!0},m=(V=a.instance)==null?void 0:V.$.uid;if(!t||!m)return;const r=xt(a.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[m]=r,Te(r).forEach(i=>{t.addEventListener(i,r[i],u)})}function Ct(e,a){var m,r;const n=(m=a.value)!=null&&m.parent?e.parentElement:e,t=(r=a.instance)==null?void 0:r.$.uid;if(!(n!=null&&n._touchHandlers)||!t)return;const u=n._touchHandlers[t];Te(u).forEach(V=>{n.removeEventListener(V,u[V])}),delete n._touchHandlers[t]}const Pe={mounted:wt,unmounted:Ct},kt=Pe,Ee=Symbol.for("vuetify:v-window"),_e=Symbol.for("vuetify:v-window-group"),Tt=ue({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ie(),...be(),...Ve()},"VWindow"),It=Z()({name:"VWindow",directives:{Touch:Pe},props:Tt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const{themeClasses:t}=xe(e),{isRtl:u}=Me(),{t:m}=Ae(),r=we(e,_e),V=L(),i=T(()=>u.value?!e.reverse:e.reverse),h=oe(!1),p=T(()=>{const y=e.direction==="vertical"?"y":"x",k=(i.value?!h.value:h.value)?"-reverse":"";return`v-window-${y}${k}-transition`}),g=oe(0),f=L(void 0),w=T(()=>r.items.value.findIndex(y=>r.selected.value.includes(y.id)));J(w,(y,C)=>{const k=r.items.value.length,N=k-1;k<=2?h.value=y<C:y===N&&C===0?h.value=!0:y===0&&C===N?h.value=!1:h.value=y<C}),Fe(Ee,{transition:p,isReversed:h,transitionCount:g,transitionHeight:f,rootRef:V});const v=T(()=>e.continuous||w.value!==0),P=T(()=>e.continuous||w.value!==r.items.value.length-1);function R(){v.value&&r.prev()}function _(){P.value&&r.next()}const E=T(()=>{const y=[],C={icon:u.value?e.nextIcon:e.prevIcon,class:`v-window__${i.value?"right":"left"}`,onClick:r.prev,"aria-label":m("$vuetify.carousel.prev")};y.push(v.value?n.prev?n.prev({props:C}):l(Y,C,null):l("div",null,null));const k={icon:u.value?e.prevIcon:e.nextIcon,class:`v-window__${i.value?"left":"right"}`,onClick:r.next,"aria-label":m("$vuetify.carousel.next")};return y.push(P.value?n.next?n.next({props:k}):l(Y,k,null):l("div",null,null)),y}),I=T(()=>e.touch===!1?e.touch:{...{left:()=>{i.value?R():_()},right:()=>{i.value?_():R()},start:C=>{let{originalEvent:k}=C;k.stopPropagation()}},...e.touch===!0?{}:e.touch});return Ie(()=>Re(l(e.tag,{ref:V,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},t.value,e.class],style:e.style},{default:()=>{var y,C;return[l("div",{class:"v-window__container",style:{height:f.value}},[(y=n.default)==null?void 0:y.call(n,{group:r}),e.showArrows!==!1&&l("div",{class:"v-window__controls"},[E.value])]),(C=n.additional)==null?void 0:C.call(n,{group:r})]}}),[[We("touch"),I.value]])),{group:r}}}),Rt=ue({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ie(),...Ce(),...Oe()},"VWindowItem"),le=Z()({name:"VWindowItem",directives:{Touch:kt},props:Rt(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:n}=a;const t=je(Ee),u=ke(e,_e),{isBooted:m}=De();if(!t||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=oe(!1),V=T(()=>m.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function i(){!r.value||!t||(r.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function h(){var v;r.value||!t||(r.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=ce((v=t.rootRef.value)==null?void 0:v.clientHeight)),t.transitionCount.value+=1)}function p(){i()}function g(v){r.value&&Ke(()=>{!V.value||!r.value||!t||(t.transitionHeight.value=ce(v.clientHeight))})}const f=T(()=>{const v=t.isReversed.value?e.reverseTransition:e.transition;return V.value?{name:typeof v!="string"?t.transition.value:v,onBeforeEnter:h,onAfterEnter:i,onEnterCancelled:p,onBeforeLeave:h,onAfterLeave:i,onLeaveCancelled:p,onEnter:g}:!1}),{hasContent:w}=ze(e,u.isSelected);return Ie(()=>l(Je,{transition:f.value,disabled:!m.value},{default:()=>{var v;return[Re(l("div",{class:["v-window-item",u.selectedClass.value,e.class],style:e.style},[w.value&&((v=n.default)==null?void 0:v.call(n))]),[[qe,u.isSelected.value]])]}})),{groupItem:u}}}),St={class:"full-height column-flow"},$t={class:"column-flow flex-1-1 ga-3 px-2 py-3 overflow-y-auto",style:{height:"0"}},he=1,Lt=ae({__name:"MassProcessing",setup(e){const a=ee({loader:()=>te(()=>import("./TheDialog-CzgpP-Bg.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)}),n=ee({loader:()=>te(()=>import("./MPFavs-D3m0e-kV.js"),__vite__mapDeps([6,3,4,7,8,9,10,11,12,13,14,15]),import.meta.url)}),t=ee({loader:()=>te(()=>import("./MPResult-DRtqk8nC.js"),__vite__mapDeps([16,3,4,7,8,17,18]),import.meta.url)}),u={panel:"h-100 px-4 py-3"},m=L(he),r=["基本材料","一階加工","二階加工"],V=L(r[he-1]);J(m,b=>{V.value=r[b-1]});const i=se(),h=T(()=>{const b=i.raw.map(o=>o.name);return[b,b.concat(i.tier1.map(o=>o.name))]}),p=T(()=>{const b=[];return i.tier1.forEach(o=>{b.push(...o.raw.map(s=>s.name))}),b}),g=T(()=>{const b=[];return i.tier2.forEach(o=>{b.push(...o.raw.map(s=>s.name))}),b.concat(p.value)}),f=T(()=>i.hourly(-1,1)),w=T(()=>i.hourly(-1,2)),v=Qe({show:!1,example:"wood"}),P=[{text:"範例一",target:"wood"},{text:"範例二",target:"alloy"},{text:"清空",target:"empty"}];function R(b){Object.assign(v,{show:!0,example:b})}function _(){i.overrideCurrent(v.example),Object.assign(v,{show:!1})}const E=L(!1),I=L(i.tier2[0].name);function y(){var b;E.value=!0,I.value||(I.value=(b=i.tier2[0])==null?void 0:b.name)}J(()=>{var b;return(b=i.tier2[0])==null?void 0:b.name},(b,o)=>{b&&(!I.value||o===I.value)&&(I.value=b)});function C(){I.value.length&&(i.appendFav(I.value),E.value=!1)}const k=rt(),N=me(()=>k.processing.tier2),O=me(()=>k.processing.tier1);return(b,o)=>(x(),G(H,null,[ne("section",St,[l(j,{tag:"h2",title:"加工",icon:"processing",color:"processing"}),l(fe,{class:"bg-processing-lighten-2"},{default:d(()=>[l(D,{class:"column-flow"},{default:d(()=>[et([m.value],()=>l(j,{tag:"h3",title:V.value,color:"processing-lighten-1",rounded:"0"},null,8,["title"]),o,0),l(It,{class:"flex-1-1 overflow-y-scroll",style:{height:"0"},modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=s=>m.value=s)},{default:d(()=>[l(le,{class:z(u.panel),value:1},{default:d(()=>[l(M,{class:"bg-transparent text-center",rounded:"lg"},{default:d(()=>[(x(!0),G(H,null,X(c(i).raw,(s,S)=>(x(),U(ct,{key:S,raw:s,idx:S},null,8,["raw","idx"]))),128)),l(q,{type:"append",onClick:o[1]||(o[1]=s=>c(i).appendGoods(0)),disabled:c(i).raw.length>=25},null,8,["disabled"])]),_:1})]),_:1},8,["class"]),l(le,{class:z(u.panel),value:2},{default:d(()=>[l(M,{class:"rounded-lg bg-brown-lighten-4 text-center"},{default:d(()=>[(x(!0),G(H,null,X(c(i).tier1,(s,S)=>(x(),U(ye,{key:S,tier:1,product:s,hourlyInfo:f.value[S],idx:S,lowTierNames:h.value[0],selectedRaws:p.value},null,8,["product","hourlyInfo","idx","lowTierNames","selectedRaws"]))),128)),l(q,{type:"append",onClick:o[2]||(o[2]=s=>c(i).appendGoods(1)),disabled:c(i).tier1.length>=10},null,8,["disabled"])]),_:1})]),_:1},8,["class"]),l(le,{class:z(u.panel),value:3},{default:d(()=>[l(M,{class:"rounded-lg bg-transparent text-center"},{default:d(()=>[(x(!0),G(H,null,X(c(i).tier2,(s,S)=>(x(),U(ye,{key:S,tier:2,product:s,hourlyInfo:w.value[S],idx:S,lowTierNames:h.value[1],selectedRaws:g.value},null,8,["product","hourlyInfo","idx","lowTierNames","selectedRaws"]))),128)),l(q,{type:"append",onClick:o[3]||(o[3]=s=>c(i).appendGoods(2)),disabled:c(i).tier2.length>=5},null,8,["disabled"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue"]),l(tt,{class:"justify-space-between px-4 py-2 bg-processing-lighten-1"},{default:d(()=>[l(Y,{icon:"mdi-chevron-left",variant:"text",onClick:o[5]||(o[5]=s=>m.value=c(lt)(m.value,3))}),l(pt,{modelValue:m.value,"onUpdate:modelValue":o[6]||(o[6]=s=>m.value=s),class:"text-center",mandatory:""},{default:d(()=>[(x(),G(H,null,X(3,s=>l(gt,{key:`btn-${s}`,value:s},{default:d(({isSelected:S,toggle:Be})=>[l(Y,{variant:S?"outlined":"text",icon:"mdi-record",onClick:Be},null,8,["variant","onClick"])]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),l(Y,{icon:"mdi-chevron-right",variant:"text",onClick:o[7]||(o[7]=s=>m.value=c(nt)(m.value,3))})]),_:1})]),_:1}),o[8]||(B(-1),o[8]=l(ot,{vertical:"",thickness:"3",opacity:"1",color:"surface"}),B(1),o[8]),l(D,{class:"column-flow h-100",cols:"3"},{default:d(()=>[o[9]||(B(-1),o[9]=l(j,{tag:"h3",title:"結果",color:"processing-lighten-1",rounded:"0"}),B(1),o[9]),ne("div",$t,[l(c(t),{idx:-1})])]),_:1})]),_:1}),o[10]||(B(-1),o[10]=l(Ze,{class:"ga-5 px-4 py-2 bg-processing",variant:"text",rounded:"b-lg t-0"},{default:d(()=>[(x(),G(H,null,X(P,s=>l(Y,{key:s.target,"prepend-icon":s.target==="empty"?"mdi-broom":"mdi-lightbulb-outline",rounded:"lg",class:"font-weight-bold",onClick:S=>R(s.target)},{default:d(()=>[F(A(s.text)+" ",1),s.target!=="empty"?(x(),U(Q,{key:0,text:c(ve)[s.target].name,activator:"parent",location:"bottom"},null,8,["text"])):W("",!0)]),_:2},1032,["prepend-icon","onClick"])),64)),l(at),l(Y,{"prepend-icon":"mdi-file",density:"compact",rounded:"lg",class:"font-weight-bold",variant:"elevated","base-color":"processing-darken-1",onClick:y},{default:d(()=>[F(" 儲存 ")]),_:1})]),_:1}),B(1),o[10]),v.show?(x(),U(c(a),{key:0,title:"覆蓋表單?",text:`範例 ${c(ve)[v.example].name}`,modelValue:v.show,"onUpdate:modelValue":o[11]||(o[11]=s=>v.show=s),onConfirm:o[12]||(o[12]=s=>_())},null,8,["text","modelValue"])):W("",!0),E.value?(x(),U(c(a),{key:1,title:"儲存最愛",modelValue:E.value,"onUpdate:modelValue":o[14]||(o[14]=s=>E.value=s),"confirm-disabled":I.value.length===0,onConfirm:o[15]||(o[15]=s=>C())},{default:d(()=>[l($,{label:"名稱",modelValue:I.value,"onUpdate:modelValue":o[13]||(o[13]=s=>I.value=s)},null,8,["modelValue"])]),_:1},8,["modelValue","confirm-disabled"])):W("",!0)]),l(pe,{tag:"section","min-height":400,options:{threshold:.5},transition:"fade-transition"},{default:d(()=>[l(c(n),{class:"full-height column-flow"})]),_:1}),l(pe,{tag:"section","min-height":50,options:{threshold:1},transition:"fade-transition"},{default:d(()=>[l(st,{class:"my-4 pa-0 overflow-hidden rounded-t-xl rounded-b-lg"},{default:d(()=>[o[16]||(B(-1),o[16]=l(j,{tag:"h3",title:"原料需求估計",icon:"mdi-calculator-variant-outline",color:"title"}),B(1),o[16]),l(fe,{class:"h-100 bg-surface px-2 py-2 ga-2 bg-content"},{default:d(()=>[l(D,{class:"d-flex align-center ga-3 px-5 pt-4 pb-2 rounded-xl bg-surface"},{default:d(()=>[l($,{label:"產量需求",density:"compact",type:"number",inputmode:"decimal",min:"1",modelValue:N.value.demand,"onUpdate:modelValue":o[17]||(o[17]=s=>N.value.demand=s)},null,8,["modelValue"]),l($,{label:"二階加工產量",density:"compact",type:"number",inputmode:"decimal",min:"1",step:"any",modelValue:N.value.avgyield,"onUpdate:modelValue":o[18]||(o[18]=s=>N.value.avgyield=s)},null,8,["modelValue"]),l($,{label:"一階原料消耗量",density:"compact",type:"number",inputmode:"decimal",min:"1",modelValue:N.value.consumption,"onUpdate:modelValue":o[19]||(o[19]=s=>N.value.consumption=s)},null,8,["modelValue"]),l($,{label:"一階加工產量",density:"compact",type:"number",inputmode:"decimal",min:"1",step:"any",modelValue:O.value.avgyield,"onUpdate:modelValue":o[20]||(o[20]=s=>O.value.avgyield=s)},null,8,["modelValue"]),l($,{label:"基本材料消耗量",density:"compact",type:"number",inputmode:"decimal",min:"1",modelValue:O.value.consumption,"onUpdate:modelValue":o[21]||(o[21]=s=>O.value.consumption=s)},null,8,["modelValue"])]),_:1}),l(D,{class:"text-subtitle-2 px-5 py-3 rounded-xl bg-surface",cols:"3"},{default:d(()=>[l(K,{title:"基本材料需求量",value:c(k).processingT0Req,titleSize:"body-2"},null,8,["value"]),l(K,{title:"一階產物需求量",value:c(k).processingT1Req,titleSize:"body-2"},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{Lt as default};
