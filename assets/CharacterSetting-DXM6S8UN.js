import{d as j,f as F,g as H,s as I,u as Y,h as S,r as d,i as q,o as B,j as L,b as l,w as a,a as u,t as c,V as O,k as e,l as G,m as i,p as J,c as K,q as Q,v as f,e as r,n as W,x as y,y as C,z as m,A as p,F as X}from"./index-CyQvApnK.js";import{_ as Z,V as ee,E as h}from"./ExpansionPanel-BW-gqJtl.js";import{_ as x}from"./DataBlock.vue_vue_type_script_setup_true_lang-BTPIrZ5j.js";import{V as M,a as le,b as v,c as te}from"./VTooltip-BOZ_ktLx.js";import{V as ae}from"./VCombobox-B3WovIIB.js";import{V as oe}from"./VDialog-6Fd2q5zs.js";import"./filter-BvXrCLne.js";const se={class:"d-flex align-center w-100"},ne={class:"flex-0-0 mx-1 text-body-1 font-weight-bold"},ue={class:"text-center"},ie={class:"column-flow h-100 w-100"},de=u("br",null,null,-1),U="角色設定",ge=j({__name:"CharacterSetting",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup($,{expose:D}){const[P,b]=F(),[z,_]=F();D({title:U});const n={panel:{btnClass:"px-3 py-1",textClass:"column-flow ga-3 bg-surface px-5 pb-4 rounded-b-xl",rounded:"xl",expand:!0},info:{tag:"h4",class:"mb-2 text-center",titleSize:"body-2",noSpace:!0},textField:{type:"number",inputmode:"decimal",density:"compact"}},o=H(),{crafts:A,extraSuccessRate:E,profitMargin:w,valuePack:N,bonusValue:R}=I(o),T=Y($,"modelValue"),g=S(()=>({mid:d(o.avgCraft*48,0),min:d(o.avgCraft*40,0),max:d(o.avgCraft*60,0)})),k=S(()=>q([1,4],o.alchemy.extractMaxRate));return(re,t)=>(B(),L(X,null,[l(e(P),null,{default:a(({title_:s})=>[u("div",se,[u("h3",ne,c(s),1),l(O,{opacity:"1",color:"black"})])]),_:1}),l(e(z),null,{default:a(({$slots:s})=>[l(M,{location:"top",eager:!1},{activator:a(({props:V})=>[l(G,i(V,{class:"ml-1",icon:e(J)("info"),size:"x-small"}),null,16,["icon"])]),default:a(()=>[u("div",ue,[(B(),K(Q(s.default)))])]),_:2},1024)]),_:1}),l(oe,{width:"450px","max-width":"100vw",height:"600px","max-height":"100vh",modelValue:T.value,"onUpdate:modelValue":t[13]||(t[13]=s=>T.value=s)},{default:a(()=>[u("div",ie,[t[0]||(f(-1),t[0]=l(Z,{tag:"h2",color:"title"},{default:a(()=>[r(c(U))]),_:1}),f(1),t[0]),l(ee,{class:W(["flex-1-1-100 column-flow","bg-content","ga-3 px-2 py-3 rounded-b-lg","overflow-auto"])},{default:a(()=>[l(h,y(C(n.panel)),{title:a(()=>[l(e(b),{title_:"交易所"})]),default:a(()=>[u("div",null,[m([e(w)],()=>l(x,i(n.info,{title:"實際領取",value:`${e(d)(100*e(w),3)}%`}),null,16,["value"]),t,1),l(le,{class:"mt-0 ms-n1 text-body-2",density:"compact","model-value":e(N),"onUpdate:modelValue":t[3]||(t[3]=s=>e(o).updateCharacter("valuePack",s))},{label:a(()=>[t[2]||(f(-1),t[2]=u("label",{class:"text-body-2 font-weight-bold"},[r("價值禮包")]),f(1),t[2])]),_:1},8,["model-value"]),l(M,{text:"巨商之戒及家門名聲等",location:"top",eager:!1},{activator:a(({props:s})=>[m([e(R)],()=>l(ae,i({label:"其他額外領取額(%)"},Object.assign({},s,n.textField),{class:"mt-2",step:"0.1",min:"0",items:[0,.5,1,1.5,5,5.5,6,6.5],"model-value":e(R),"onUpdate:modelValue":t[4]||(t[4]=V=>e(o).updateCharacter("bonusValue",V))}),null,16,["model-value"]),t,5)]),_:1})])]),_:1},16),l(h,y(C(n.panel)),{title:a(()=>[l(e(b),{title_:"加工"})]),default:a(()=>[u("div",null,[l(x,i(n.info,{title:"每小時加工",value:`約 ${e(p)(g.value.mid)}份`}),{append:a(()=>[l(e(_),null,{default:a(()=>[u("div",null,[r(" 以75秒估計，實際由被加工物決定。"),de,r(" 介於"+c(e(p)(g.value.min))+"份(90秒)至"+c(e(p)(g.value.max))+"份(60秒)。 ",1)])]),_:1})]),_:1},16,["value"]),l(v,i({label:"單次大量加工份數"},n.textField,{min:"1","model-value":e(A),"onUpdate:modelValue":t[6]||(t[6]=s=>e(o).updateCharacter("crafts",s))}),null,16,["model-value"])]),u("div",null,[m([e(o).successRate],()=>l(te,{class:"mb-2 text-body-2 opacity-80",text:`加工成功率 ${e(d)(100*e(o).successRate)}%`},null,8,["text"]),t,7),l(v,i({label:"額外加工成功率(%)"},n.textField,{step:"any",min:"0",max:"100","model-value":e(E),"onUpdate:modelValue":t[8]||(t[8]=s=>e(o).updateCharacter("extraSuccessRate",s))}),null,16,["model-value"])])]),_:1},16),l(h,y(C(n.panel)),{title:a(()=>[l(e(b),{title_:"煉金"})]),default:a(()=>[u("div",null,[m([e(o).alchemyHourlyCrafts],()=>l(x,i(n.info,{title:"每小時製作",value:`約 ${e(p)(e(d)(e(o).alchemyHourlyCrafts,0))}次`}),null,16,["value"]),t,9),l(v,i({label:"製作時間(秒)"},n.textField,{min:"1",max:"20",step:"any","model-value":e(o).alchemy.time,"onUpdate:modelValue":t[10]||(t[10]=s=>e(o).updateCharacter("alchemy.time",s))}),null,16,["model-value"])]),u("div",null,[m([k.value],()=>l(x,i(n.info,{title:"平均產出",value:` ${e(p)(e(d)(k.value))} 個/次`}),{append:a(()=>[l(e(_),null,{default:a(()=>[r(" 以產量範圍1~4估計。 ")]),_:1})]),_:1},16,["value"]),t,11),l(v,i(n.textField,{label:"最大數量製作額外機率(%)",min:"0",step:"any","model-value":e(o).alchemy.extractMaxRate,"onUpdate:modelValue":t[12]||(t[12]=s=>e(o).updateCharacter("alchemy.extractMaxRate",s))}),null,16,["model-value"])])]),_:1},16)]),_:1})])]),_:1},8,["modelValue"])],64))}});export{ge as default};
