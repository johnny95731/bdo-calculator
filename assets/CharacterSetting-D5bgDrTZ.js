import{d as N,f as j,s as H,u as I,g as F,r as u,h as Y,o as S,i as q,b as l,w as a,V as L,m as i,j as e,k as O,a as s,c as G,l as J,p,e as r,t as b,n as K,q as g,v as y,x as V,y as m,z as c,F as Q}from"./index-CjYWDwRe.js";import{c as W}from"./index-4N8LwJah.js";import{_ as X,V as Z,E as h}from"./ExpansionPanel-ip30yW0r.js";import{_ as f}from"./DataBlock.vue_vue_type_script_setup_true_lang-CuiVq7Tk.js";import{V as T,a as ee,b as x,c as le}from"./VTooltip-B3OCDW7s.js";import{V as te}from"./VCombobox-DJ9jssC9.js";import{V as ae}from"./VDialog-Dw7iDIdA.js";import"./filter-DomRx7IP.js";const oe={class:"text-center"},se={class:"column-flow h-100 w-100"},ne={class:"d-flex align-center w-100"},de=s("h3",{class:"flex-0-0 mx-1 text-body-1 font-weight-bold"}," 交易所 ",-1),ie={class:"d-flex align-center w-100"},ue=s("h3",{class:"flex-0-0 mx-1 text-body-1 font-weight-bold"}," 加工 ",-1),re=s("br",null,null,-1),me={class:"d-flex align-center w-100"},ce=s("h3",{class:"flex-0-0 mx-1 text-body-1 font-weight-bold"}," 煉金 ",-1),$="角色設定",he=N({__name:"CharacterSetting",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(B,{expose:M}){const[U,C]=W();M({title:$});const d={panel:{btnClass:"px-3 py-1",textClass:"column-flow ga-3 bg-surface px-5 pb-4 rounded-b-xl",rounded:"xl",expand:!0},info:{tag:"h4",class:"mb-2 text-center",titleSize:"body-2",noSpace:!0},textField:{type:"number",inputmode:"decimal",density:"compact"}},o=j(),{crafts:P,extraSuccessRate:z,profitMargin:w,valuePack:D,bonusValue:_}=H(o),k=I(B,"modelValue"),v=F(()=>({mid:u(o.avgCraft*48,0),min:u(o.avgCraft*40,0),max:u(o.avgCraft*60,0)})),R=F(()=>Y([1,4],o.alchemy.extractMaxRate));return(A,t)=>(S(),q(Q,null,[l(e(U),null,{default:a(()=>[l(T,{location:"top",eager:!1},{activator:a(({props:n})=>[l(L,i(n,{class:"ml-1",icon:e(O)("info"),size:"x-small"}),null,16,["icon"])]),default:a(()=>[s("div",oe,[(S(),G(J(A.$slots.default)))])]),_:1})]),_:1}),l(ae,{width:"450px","max-width":"100vw",height:"600px","max-height":"100vh",modelValue:k.value,"onUpdate:modelValue":t[13]||(t[13]=n=>k.value=n)},{default:a(()=>[s("div",se,[t[0]||(p(-1),t[0]=l(X,{tag:"h2",color:"title"},{default:a(()=>[r(b($))]),_:1}),p(1),t[0]),l(Z,{class:K(["flex-1-1-100 column-flow","bg-content","ga-3 px-2 py-3 rounded-b-lg","overflow-auto"])},{default:a(()=>[l(h,g(y(d.panel)),{title:a(()=>[s("div",ne,[de,l(V,{opacity:"1",color:"black"})])]),default:a(()=>[s("div",null,[m([e(w)],()=>l(f,i(d.info,{title:"實際領取",value:`${e(u)(100*e(w),3)}%`}),null,16,["value"]),t,1),l(ee,{class:"mt-0 ms-n1 text-body-2",density:"compact","model-value":e(D),"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).updateCharacter("valuePack",n))},{label:a(()=>[t[2]||(p(-1),t[2]=s("label",{class:"text-body-2 font-weight-bold"},[r("價值禮包")]),p(1),t[2])]),_:1},8,["model-value"]),l(T,{text:"巨商之戒及家門名聲等",location:"top",eager:!1},{activator:a(({props:n})=>[m([e(_)],()=>l(te,i({label:"其他額外領取額(%)"},Object.assign({},n,d.textField),{class:"mt-2",step:"0.1",min:"0",items:[0,.5,1,1.5,5,5.5,6,6.5],"model-value":e(_),"onUpdate:modelValue":t[4]||(t[4]=E=>e(o).updateCharacter("bonusValue",E))}),null,16,["model-value"]),t,5)]),_:1})])]),_:1},16),l(h,g(y(d.panel)),{title:a(()=>[s("div",ie,[ue,l(V,{opacity:"1",color:"black"})])]),default:a(()=>[s("div",null,[l(f,i(d.info,{title:"每小時加工",value:`約 ${e(c)(v.value.mid)}份`}),{append:a(()=>[l(e(C),null,{default:a(()=>[s("div",null,[r(" 以75秒估計，實際由被加工物決定。"),re,r(" 介於"+b(e(c)(v.value.min))+"份(90秒)至"+b(e(c)(v.value.max))+"份(60秒)。 ",1)])]),_:1})]),_:1},16,["value"]),l(x,i({label:"單次大量加工份數"},d.textField,{min:"1","model-value":e(P),"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).updateCharacter("crafts",n))}),null,16,["model-value"])]),s("div",null,[m([e(o).successRate],()=>l(le,{class:"mb-2 text-body-2 opacity-80",text:`加工成功率 ${e(u)(100*e(o).successRate)}%`},null,8,["text"]),t,7),l(x,i({label:"額外加工成功率(%)"},d.textField,{step:"any",min:"0",max:"100","model-value":e(z),"onUpdate:modelValue":t[8]||(t[8]=n=>e(o).updateCharacter("extraSuccessRate",n))}),null,16,["model-value"])])]),_:1},16),l(h,g(y(d.panel)),{title:a(()=>[s("div",me,[ce,l(V,{opacity:"1",color:"black"})])]),default:a(()=>[s("div",null,[m([e(o).alchemyHourlyCrafts],()=>l(f,i(d.info,{title:"每小時製作",value:`約 ${e(c)(e(u)(e(o).alchemyHourlyCrafts,0))}次`}),null,16,["value"]),t,9),l(x,i({label:"製作時間(秒)"},d.textField,{min:"1",max:"20",step:"any","model-value":e(o).alchemy.time,"onUpdate:modelValue":t[10]||(t[10]=n=>e(o).updateCharacter("alchemy.time",n))}),null,16,["model-value"])]),s("div",null,[m([R.value],()=>l(f,i(d.info,{title:"平均產出",value:` ${e(c)(e(u)(R.value))} 個/次`}),{append:a(()=>[l(e(C),null,{default:a(()=>[r(" 以產量範圍1~4估計。 ")]),_:1})]),_:1},16,["value"]),t,11),l(x,i(d.textField,{label:"最大數量製作額外機率(%)",min:"0",step:"any","model-value":e(o).alchemy.extractMaxRate,"onUpdate:modelValue":t[12]||(t[12]=n=>e(o).updateCharacter("alchemy.extractMaxRate",n))}),null,16,["model-value"])])]),_:1},16)]),_:1})])]),_:1},8,["modelValue"])],64))}});export{he as default};
